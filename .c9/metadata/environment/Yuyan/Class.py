{"filter":false,"title":"Class.py","tooltip":"/Yuyan/Class.py","undoManager":{"mark":50,"position":50,"stack":[[{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"remove","lines":["6"],"id":2}],[{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"insert","lines":["8"],"id":3}],[{"start":{"row":72,"column":21},"end":{"row":72,"column":22},"action":"remove","lines":["6"],"id":4}],[{"start":{"row":72,"column":21},"end":{"row":72,"column":22},"action":"insert","lines":["8"],"id":5}],[{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"remove","lines":["8"],"id":9},{"start":{"row":65,"column":20},"end":{"row":65,"column":21},"action":"remove","lines":["."]},{"start":{"row":65,"column":19},"end":{"row":65,"column":20},"action":"remove","lines":["0"]}],[{"start":{"row":65,"column":19},"end":{"row":65,"column":20},"action":"insert","lines":["1"],"id":10}],[{"start":{"row":72,"column":21},"end":{"row":72,"column":22},"action":"remove","lines":["8"],"id":11},{"start":{"row":72,"column":20},"end":{"row":72,"column":21},"action":"remove","lines":["."]},{"start":{"row":72,"column":19},"end":{"row":72,"column":20},"action":"remove","lines":["0"]}],[{"start":{"row":72,"column":19},"end":{"row":72,"column":20},"action":"insert","lines":["1"],"id":12}],[{"start":{"row":89,"column":22},"end":{"row":89,"column":23},"action":"remove","lines":["0"],"id":13},{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"remove","lines":["0"]},{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"remove","lines":["1"]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"insert","lines":["5"],"id":14},{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"insert","lines":["0"]}],[{"start":{"row":90,"column":20},"end":{"row":90,"column":21},"action":"remove","lines":["0"],"id":15},{"start":{"row":90,"column":19},"end":{"row":90,"column":20},"action":"remove","lines":["5"]}],[{"start":{"row":90,"column":19},"end":{"row":90,"column":20},"action":"insert","lines":["2"],"id":16},{"start":{"row":90,"column":20},"end":{"row":90,"column":21},"action":"insert","lines":["5"]}],[{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"remove","lines":["0"],"id":17},{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"remove","lines":["5"]}],[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"insert","lines":["6"],"id":18},{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"insert","lines":["0"]}],[{"start":{"row":90,"column":20},"end":{"row":90,"column":21},"action":"remove","lines":["5"],"id":19},{"start":{"row":90,"column":19},"end":{"row":90,"column":20},"action":"remove","lines":["2"]}],[{"start":{"row":90,"column":19},"end":{"row":90,"column":20},"action":"insert","lines":["0"],"id":20}],[{"start":{"row":90,"column":19},"end":{"row":90,"column":20},"action":"remove","lines":["0"],"id":21}],[{"start":{"row":90,"column":19},"end":{"row":90,"column":20},"action":"insert","lines":["3"],"id":22},{"start":{"row":90,"column":20},"end":{"row":90,"column":21},"action":"insert","lines":["0"]}],[{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"remove","lines":["4"],"id":23}],[{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"insert","lines":["3"],"id":24}],[{"start":{"row":107,"column":28},"end":{"row":107,"column":29},"action":"remove","lines":["3"],"id":25}],[{"start":{"row":107,"column":28},"end":{"row":107,"column":29},"action":"insert","lines":["2"],"id":26},{"start":{"row":107,"column":29},"end":{"row":107,"column":30},"action":"insert","lines":["5"]}],[{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"remove","lines":["3"],"id":27}],[{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"insert","lines":["2"],"id":28},{"start":{"row":108,"column":30},"end":{"row":108,"column":31},"action":"insert","lines":["5"]}],[{"start":{"row":65,"column":20},"end":{"row":65,"column":21},"action":"insert","lines":["."],"id":29},{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"insert","lines":["1"]}],[{"start":{"row":72,"column":20},"end":{"row":72,"column":21},"action":"insert","lines":["."],"id":30},{"start":{"row":72,"column":21},"end":{"row":72,"column":22},"action":"insert","lines":["1"]}],[{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"remove","lines":["1"],"id":31},{"start":{"row":65,"column":20},"end":{"row":65,"column":21},"action":"remove","lines":["."]}],[{"start":{"row":72,"column":21},"end":{"row":72,"column":22},"action":"remove","lines":["1"],"id":32},{"start":{"row":72,"column":20},"end":{"row":72,"column":21},"action":"remove","lines":["."]}],[{"start":{"row":106,"column":24},"end":{"row":106,"column":25},"action":"remove","lines":["5"],"id":33},{"start":{"row":106,"column":23},"end":{"row":106,"column":24},"action":"remove","lines":["1"]}],[{"start":{"row":106,"column":23},"end":{"row":106,"column":24},"action":"insert","lines":["0"],"id":34},{"start":{"row":106,"column":24},"end":{"row":106,"column":25},"action":"insert","lines":["5"]}],[{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"remove","lines":["1"],"id":35}],[{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"insert","lines":["0"],"id":36},{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"insert","lines":["5"]}],[{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"remove","lines":["5"],"id":37},{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"remove","lines":["0"]}],[{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"insert","lines":["1"],"id":38}],[{"start":{"row":106,"column":24},"end":{"row":106,"column":25},"action":"remove","lines":["5"],"id":39},{"start":{"row":106,"column":23},"end":{"row":106,"column":24},"action":"remove","lines":["0"]}],[{"start":{"row":106,"column":23},"end":{"row":106,"column":24},"action":"insert","lines":["1"],"id":40}],[{"start":{"row":107,"column":29},"end":{"row":107,"column":30},"action":"remove","lines":["5"],"id":41},{"start":{"row":107,"column":28},"end":{"row":107,"column":29},"action":"remove","lines":["2"]}],[{"start":{"row":107,"column":28},"end":{"row":107,"column":29},"action":"insert","lines":["1"],"id":42},{"start":{"row":107,"column":29},"end":{"row":107,"column":30},"action":"insert","lines":["5"]}],[{"start":{"row":108,"column":30},"end":{"row":108,"column":31},"action":"remove","lines":["5"],"id":43},{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"remove","lines":["2"]}],[{"start":{"row":108,"column":29},"end":{"row":108,"column":30},"action":"insert","lines":["1"],"id":44},{"start":{"row":108,"column":30},"end":{"row":108,"column":31},"action":"insert","lines":["5"]}],[{"start":{"row":158,"column":0},"end":{"row":166,"column":11},"action":"remove","lines":["        '''","        for pos in positions_and_cash:","            if positions_and_cash[pos][\"volume\"] > 280:","                response: InsertOrderResponse = exchange.insert_order(pos, price=50, volume=15, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)","                print_order_response(response)","            if positions_and_cash[pos][\"volume\"]< -280:","                response: InsertOrderResponse = exchange.insert_order(pos, price=210, volume=15, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","                print_order_response(response)","        '''"],"id":45},{"start":{"row":157,"column":12},"end":{"row":158,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":134,"column":12},"end":{"row":148,"column":16},"action":"remove","lines":["print(exchange.get_pnl())","            ","            # Worst case: About to exceed limits of positive basket -> Need to sell immediately","            if positions_and_cash[case[0]][\"volume\"] + volume_basket >= 450:","                response: InsertOrderResponse = exchange.insert_order(case[0], price=result[1], volume=volume_basket, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)","                print_order_response(response)","            # Worst case: About to exceed limits of negative stock1 -> Need to buy immediately","            if positions_and_cash[case[1]][\"volume\"] - volume_stock <= -450:","                response: InsertOrderResponse = exchange.insert_order(case[1], price=result[3], volume=volume_stock, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","                print_order_response(response)","            # Worst case: About to exceed limits of negative stock2 -> Need to buy immediately","            if positions_and_cash[case[2]][\"volume\"] - volume_stock <= -450:","                response: InsertOrderResponse = exchange.insert_order(case[2], price=result[5], volume=volume_stock, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","                print_order_response(response)","                "],"id":46},{"start":{"row":134,"column":12},"end":{"row":147,"column":122},"action":"insert","lines":["        if result[0]==1:","            # Worst case: About to exceed limits of positive basket -> Need to sell immediately","            if positions_and_cash[case[0]][\"volume\"] + volume_basket >= 450:","                exchange.insert_order(case[0], price=result[1], volume=volume_basket, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)","            # Worst case: About to exceed limits of negative stock1 -> Need to buy immediately","            if positions_and_cash[case[1]][\"volume\"] - volume_stock <= -450:","                exchange.insert_order(case[1], price=result[3], volume=volume_stock, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","            # Worst case: About to exceed limits of negative stock2 -> Need to buy immediately","            if positions_and_cash[case[2]][\"volume\"] - volume_stock <= -450:","                exchange.insert_order(case[2], price=result[5], volume=volume_stock, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","            # Start buying basket and selling stock","            exchange.insert_order(case[0], price=result[1], volume=volume_basket, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","            exchange.insert_order(case[1], price=result[3], volume=volume_stock, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)","            exchange.insert_order(case[2], price=result[5], volume=volume_stock, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)"]}],[{"start":{"row":134,"column":20},"end":{"row":134,"column":36},"action":"remove","lines":["if result[0]==1:"],"id":47},{"start":{"row":134,"column":16},"end":{"row":134,"column":20},"action":"remove","lines":["    "]},{"start":{"row":134,"column":12},"end":{"row":134,"column":16},"action":"remove","lines":["    "]},{"start":{"row":134,"column":8},"end":{"row":134,"column":12},"action":"remove","lines":["    "]},{"start":{"row":134,"column":4},"end":{"row":134,"column":8},"action":"remove","lines":["    "]},{"start":{"row":134,"column":0},"end":{"row":134,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":133,"column":24},"end":{"row":134,"column":0},"action":"remove","lines":["",""],"id":48}],[{"start":{"row":142,"column":126},"end":{"row":143,"column":0},"action":"insert","lines":["",""],"id":49},{"start":{"row":143,"column":0},"end":{"row":143,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":145,"column":58},"end":{"row":145,"column":84},"action":"insert","lines":["+result[7]*offsetBuyBacket"],"id":50}],[{"start":{"row":146,"column":58},"end":{"row":146,"column":79},"action":"insert","lines":["-result[7]*offsetSell"],"id":51}],[{"start":{"row":147,"column":58},"end":{"row":147,"column":78},"action":"insert","lines":["result[7]*offsetSell"],"id":52}],[{"start":{"row":147,"column":58},"end":{"row":147,"column":59},"action":"insert","lines":["-"],"id":53}],[{"start":{"row":148,"column":12},"end":{"row":154,"column":12},"action":"remove","lines":["# Start buying basket and selling stock","            response: InsertOrderResponse = exchange.insert_order(case[0], price=result[1]+result[7]*offsetBuyBacket, volume=volume_basket, side=SIDE_BID, order_type=ORDER_TYPE_IOC)","            # print_order_response(response)","            response: InsertOrderResponse = exchange.insert_order(case[1], price=result[3]-result[7]*offsetSell, volume=volume_stock, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)","            # print_order_response(response)","            response: InsertOrderResponse = exchange.insert_order(case[2], price=result[5]-result[7]*offsetSell, volume=volume_stock, side=SIDE_ASK, order_type=ORDER_TYPE_IOC)","            "],"id":54}],[{"start":{"row":149,"column":11},"end":{"row":149,"column":37},"action":"remove","lines":[" print(exchange.get_pnl())"],"id":55},{"start":{"row":149,"column":10},"end":{"row":149,"column":11},"action":"remove","lines":[" "]},{"start":{"row":149,"column":9},"end":{"row":149,"column":10},"action":"remove","lines":[" "]},{"start":{"row":149,"column":8},"end":{"row":149,"column":9},"action":"remove","lines":[" "]},{"start":{"row":149,"column":4},"end":{"row":149,"column":8},"action":"remove","lines":["    "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":4},"action":"remove","lines":["    "]},{"start":{"row":148,"column":12},"end":{"row":149,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":2311.200000000004,"scrollleft":0,"selection":{"start":{"row":148,"column":12},"end":{"row":148,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"state":"start","mode":"ace/mode/python"}},"timestamp":1684046267495,"hash":"624a12540058a0373a5fe3e991619264d8a132f6"}